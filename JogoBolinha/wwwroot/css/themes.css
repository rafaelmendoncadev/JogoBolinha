/* Ball Sort Puzzle - Modern Design System */

/* Modern Design Tokens */
:root {
    /* Classic Theme (default) - Enhanced */
    --primary-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --game-area-bg: #f8fafc;
    --tube-bg: linear-gradient(to bottom, #ffffff, #f0f0f0);
    --tube-border: #333;
    --text-primary: #0f172a;
    --text-secondary: #64748b;
    --success-color: #10b981;
    --warning-color: #f59e0b;
    --danger-color: #ef4444;
    --info-color: #06b6d4;
    
    /* Modern Color System */
    --color-bg: #f8fafc;
    --color-surface: #ffffff;
    --color-card: #ffffff;
    --color-text: #0f172a;
    --color-muted: #64748b;
    --primary-500: #6366f1;
    --primary-600: #4f46e5;
    --primary-700: #4338ca;
    
    /* Layout & Design */
    --radius: 14px;
    --radius-sm: 8px;
    --radius-lg: 18px;
    --shadow-1: 0 8px 24px rgba(0,0,0,.08);
    --shadow-2: 0 16px 40px rgba(0,0,0,.12);
    --shadow-focus: 0 0 0 0.2rem rgba(99,102,241,.35);
    --gradient-hero: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    --gradient-card: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-tube: linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,.08));
    
    /* Typography */
    --font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
    --font-weight-normal: 400;
    --font-weight-medium: 600;
    --font-weight-bold: 700;
    
    /* Spacing */
    --spacing-xs: 8px;
    --spacing-sm: 12px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;
    
    /* Transitions */
    --transition-fast: 0.15s ease;
    --transition-normal: 0.2s ease;
    
    /* Ball colors */
    --ball-red: #ff6b6b;
    --ball-cyan: #4ecdc4;
    --ball-blue: #45b7d1;
    --ball-green: #96ceb4;
    --ball-yellow: #ffeaa7;
    --ball-orange: #fab1a0;
    --ball-purple: #6c5ce7;
    --ball-pink: #fd79a8;
    --ball-teal: #00b894;
    --ball-brown: #e17055;
}

/* Dark Theme */
[data-theme="dark"] {
    --primary-bg: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
    --game-area-bg: #111827;
    --tube-bg: linear-gradient(to bottom, #34495e, #2c3e50);
    --tube-border: #ecf0f1;
    --text-primary: #e5e7eb;
    --text-secondary: #9ca3af;
    --success-color: #10b981;
    --warning-color: #f59e0b;
    --danger-color: #ef4444;
    --info-color: #06b6d4;
    
    /* Modern Dark Color System */
    --color-bg: #0f172a;
    --color-surface: #111827;
    --color-card: #1f2937;
    --color-text: #e5e7eb;
    --color-muted: #9ca3af;
    --shadow-1: 0 8px 24px rgba(0,0,0,.4);
    --shadow-2: 0 16px 40px rgba(0,0,0,.6);
    
    /* Enhanced ball colors for dark theme */
    --ball-red: #e74c3c;
    --ball-cyan: #1abc9c;
    --ball-blue: #3498db;
    --ball-green: #2ecc71;
    --ball-yellow: #f1c40f;
    --ball-orange: #e67e22;
    --ball-purple: #9b59b6;
    --ball-pink: #e91e63;
    --ball-teal: #16a085;
    --ball-brown: #d35400;
}

/* Neon Theme */
[data-theme="neon"] {
    --primary-bg: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 100%);
    --game-area-bg: #16213e;
    --tube-bg: linear-gradient(to bottom, #0f3460, #16213e);
    --tube-border: #00ffff;
    --text-primary: #00ffff;
    --text-secondary: #00bcd4;
    --success-color: #00ff41;
    --warning-color: #ffff00;
    --danger-color: #ff073a;
    --info-color: #00bcd4;
    
    /* Neon ball colors */
    --ball-red: #ff073a;
    --ball-cyan: #00ffff;
    --ball-blue: #0080ff;
    --ball-green: #00ff41;
    --ball-yellow: #ffff00;
    --ball-orange: #ff8c00;
    --ball-purple: #bf00ff;
    --ball-pink: #ff1493;
    --ball-teal: #40e0d0;
    --ball-brown: #cd853f;
}

/* Nature Theme */
[data-theme="nature"] {
    --primary-bg: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
    --game-area-bg: #f1f8e9;
    --tube-bg: linear-gradient(to bottom, #ffffff, #e8f5e8);
    --tube-border: #4a7c59;
    --text-primary: #2e7d32;
    --text-secondary: #388e3c;
    --success-color: #4caf50;
    --warning-color: #ff9800;
    --danger-color: #f44336;
    --info-color: #00bcd4;
    
    /* Nature-inspired ball colors */
    --ball-red: #d32f2f;
    --ball-cyan: #006064;
    --ball-blue: #1976d2;
    --ball-green: #388e3c;
    --ball-yellow: #fbc02d;
    --ball-orange: #f57c00;
    --ball-purple: #7b1fa2;
    --ball-pink: #c2185b;
    --ball-teal: #00695c;
    --ball-brown: #5d4037;
}

/* Ocean Theme */
[data-theme="ocean"] {
    --primary-bg: linear-gradient(135deg, #0c4a6e 0%, #0e7490 100%);
    --game-area-bg: #e0f7fa;
    --tube-bg: linear-gradient(to bottom, #ffffff, #b2ebf2);
    --tube-border: #00695c;
    --text-primary: #00695c;
    --text-secondary: #00838f;
    --success-color: #00796b;
    --warning-color: #ff8f00;
    --danger-color: #d84315;
    --info-color: #0277bd;
    
    /* Ocean-inspired ball colors */
    --ball-red: #d84315;
    --ball-cyan: #00acc1;
    --ball-blue: #0277bd;
    --ball-green: #00695c;
    --ball-yellow: #ffb300;
    --ball-orange: #ff8f00;
    --ball-purple: #7b1fa2;
    --ball-pink: #ad1457;
    --ball-teal: #00838f;
    --ball-brown: #6d4c41;
}

/* Apply theme variables to components */
.game-header {
    background: var(--primary-bg);
    color: var(--text-primary);
}

.game-area {
    background: var(--game-area-bg);
    color: var(--text-primary);
}

.tube-body {
    background: var(--tube-bg);
    border-color: var(--tube-border);
}

.info-item .label {
    color: var(--text-secondary);
}

.info-item .value {
    color: var(--text-primary);
}

/* Theme-specific ball colors */
[data-color="#ff6b6b"], [style*="background-color: #ff6b6b"] { 
    background-color: var(--ball-red) !important; 
}
[data-color="#4ecdc4"], [style*="background-color: #4ecdc4"] { 
    background-color: var(--ball-cyan) !important; 
}
[data-color="#45b7d1"], [style*="background-color: #45b7d1"] { 
    background-color: var(--ball-blue) !important; 
}
[data-color="#96ceb4"], [style*="background-color: #96ceb4"] { 
    background-color: var(--ball-green) !important; 
}
[data-color="#ffeaa7"], [style*="background-color: #ffeaa7"] { 
    background-color: var(--ball-yellow) !important; 
}
[data-color="#fab1a0"], [style*="background-color: #fab1a0"] { 
    background-color: var(--ball-orange) !important; 
}
[data-color="#6c5ce7"], [style*="background-color: #6c5ce7"] { 
    background-color: var(--ball-purple) !important; 
}
[data-color="#fd79a8"], [style*="background-color: #fd79a8"] { 
    background-color: var(--ball-pink) !important; 
}
[data-color="#00b894"], [style*="background-color: #00b894"] { 
    background-color: var(--ball-teal) !important; 
}
[data-color="#e17055"], [style*="background-color: #e17055"] { 
    background-color: var(--ball-brown) !important; 
}

/* Theme-specific enhancements */
[data-theme="neon"] .tube {
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
}

[data-theme="neon"] .tube:hover {
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.6);
}

[data-theme="neon"] .ball {
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2), inset 0 1px 3px rgba(255,255,255,0.3);
}

[data-theme="neon"] .game-header {
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
}

[data-theme="dark"] .tube-body {
    box-shadow: inset 0 -5px 10px rgba(255,255,255,0.05);
}

[data-theme="nature"] .ball {
    box-shadow: 0 2px 5px rgba(46, 125, 50, 0.3), inset 0 1px 3px rgba(255,255,255,0.3);
}

[data-theme="ocean"] .tube {
    border-radius: 15px;
}

[data-theme="ocean"] .tube-body {
    border-radius: 0 0 15px 15px;
    box-shadow: inset 0 -5px 10px rgba(0, 105, 92, 0.1);
}

/* Theme selector styles */
.theme-selector {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin: 20px 0;
    flex-wrap: wrap;
}

.theme-option {
    width: 60px;
    height: 60px;
    border: 3px solid transparent;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.theme-option:hover {
    transform: scale(1.1);
}

.theme-option.active {
    border-color: var(--info-color);
    transform: scale(1.2);
}

.theme-classic {
    background: linear-gradient(45deg, #667eea, #764ba2, #f8f9fa, #ffffff);
}

.theme-dark {
    background: linear-gradient(45deg, #2c3e50, #34495e, #3498db, #ecf0f1);
}

.theme-neon {
    background: linear-gradient(45deg, #0f0f23, #00ffff, #00ff41, #ff073a);
}

.theme-nature {
    background: linear-gradient(45deg, #56ab2f, #a8e6cf, #388e3c, #4caf50);
}

.theme-ocean {
    background: linear-gradient(45deg, #0c4a6e, #0e7490, #00acc1, #e0f7fa);
}

/* Responsive theme selector */
@media (max-width: 768px) {
    .theme-selector {
        gap: 8px;
    }
    
    .theme-option {
        width: 45px;
        height: 45px;
    }
}

/* Animation for theme transitions */
* {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* Theme-specific modal styles */
[data-theme="dark"] .modal-content {
    background-color: #34495e;
    color: #ecf0f1;
}

[data-theme="neon"] .modal-content {
    background-color: #16213e;
    color: #00ffff;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
}

[data-theme="nature"] .modal-content {
    background-color: #f1f8e9;
    color: #2e7d32;
}

[data-theme="ocean"] .modal-content {
    background-color: #e0f7fa;
    color: #00695c;
}

/* Modern Design System Components */

/* Base Typography and Layout */
html {
    transition: background-color var(--transition-normal), color var(--transition-normal);
}

body {
    font-family: var(--font-family);
    background: var(--color-bg);
    color: var(--color-text);
    line-height: 1.6;
}

.container,
.game-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--spacing-lg);
}

/* Enhanced Button System */
.btn-primary {
    background: var(--primary-600);
    border-color: var(--primary-600);
    font-weight: var(--font-weight-medium);
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    box-shadow: 0 2px 4px rgba(0,0,0,.1);
}

.btn-primary:hover,
.btn-primary:focus {
    background: var(--primary-700);
    border-color: var(--primary-700);
    transform: translateY(-1px);
    box-shadow: var(--shadow-1);
}

.btn-primary:focus {
    box-shadow: var(--shadow-focus);
    outline: none;
}

.btn-outline-success {
    color: var(--success-color);
    border-color: var(--success-color);
    background: transparent;
}

.btn-outline-success:hover {
    background: var(--success-color);
    color: white;
}

.btn-outline-info {
    color: var(--info-color);
    border-color: var(--info-color);
    background: transparent;
}

.btn-outline-info:hover {
    background: var(--info-color);
    color: white;
}

/* Enhanced Cards */
.card {
    background: var(--color-card);
    border: 1px solid rgba(255,255,255,.06);
    border-radius: var(--radius);
    box-shadow: var(--shadow-1);
    backdrop-filter: blur(6px);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-2);
}

.card-header {
    border-bottom: 1px solid rgba(255,255,255,.08);
    background: transparent;
    font-weight: var(--font-weight-medium);
}

/* Enhanced Modals */
.modal-content {
    border-radius: var(--radius);
    box-shadow: var(--shadow-2);
    background: var(--color-card);
    border: 1px solid rgba(255,255,255,.1);
}

.modal-header {
    border-bottom: 1px solid rgba(255,255,255,.08);
    font-weight: var(--font-weight-medium);
}

.modal-footer {
    border-top: 1px solid rgba(255,255,255,.08);
}

/* Enhanced Alerts */
.alert {
    border-radius: var(--radius-sm);
    border: none;
    backdrop-filter: blur(6px);
    font-weight: var(--font-weight-medium);
}

.alert-success {
    background: rgba(16, 185, 129, 0.15);
    color: var(--success-color);
    border: 1px solid rgba(16, 185, 129, 0.3);
}

.alert-danger {
    background: rgba(239, 68, 68, 0.15);
    color: var(--danger-color);
    border: 1px solid rgba(239, 68, 68, 0.3);
}

.alert-info {
    background: rgba(6, 182, 212, 0.15);
    color: var(--info-color);
    border: 1px solid rgba(6, 182, 212, 0.3);
}

.alert-warning {
    background: rgba(245, 158, 11, 0.15);
    color: var(--warning-color);
    border: 1px solid rgba(245, 158, 11, 0.3);
}

/* Hero Section */
.hero {
    background: var(--gradient-hero);
    color: #fff;
    border-radius: var(--radius);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-1);
    text-align: center;
}

/* Enhanced Game Elements */
.tube {
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.tube:hover {
    transform: translateY(-3px);
}

.tube:focus-visible {
    outline: 3px solid var(--primary-500);
    outline-offset: 2px;
}

.tube-body {
    background: var(--gradient-tube);
    backdrop-filter: blur(6px);
    border: 2px solid rgba(255,255,255,.25);
    border-radius: 0 0 var(--radius-lg) var(--radius-lg);
    box-shadow: inset 0 -6px 14px rgba(0,0,0,.15);
    transition: all var(--transition-fast);
}

.ball {
    border: 2px solid rgba(255,255,255,.25);
    box-shadow: 0 4px 10px rgba(0,0,0,.25), inset 0 1px 3px rgba(255,255,255,.35);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.ball:hover,
.ball:focus {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 6px 15px rgba(0,0,0,.35), inset 0 1px 3px rgba(255,255,255,.4);
}

.ball:focus-visible {
    outline: 2px solid var(--primary-500);
    outline-offset: 1px;
}

/* Accessibility Improvements */
*:focus-visible {
    outline: 2px solid var(--primary-500);
    outline-offset: 2px;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    * {
        animation: none !important;
        transition: none !important;
    }
    
    html {
        scroll-behavior: auto;
    }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    :root {
        --shadow-1: 0 4px 8px rgba(0,0,0,.6);
        --shadow-2: 0 8px 16px rgba(0,0,0,.8);
    }
    
    .card,
    .modal-content,
    .tube-body {
        border-width: 2px;
    }
    
    .ball {
        border-width: 3px;
    }
}

/* Dark Theme Enhancements */
[data-theme="dark"] .card {
    background: var(--color-card);
    border-color: rgba(255,255,255,.1);
}

[data-theme="dark"] .modal-content {
    background: var(--color-card);
    color: var(--color-text);
}

[data-theme="dark"] .tube-body {
    box-shadow: inset 0 -6px 14px rgba(0,0,0,.3);
}

/* Enhanced Navbar */
.modern-nav {
    background: var(--color-surface) !important;
    border-bottom: 1px solid rgba(255,255,255,.1) !important;
    box-shadow: var(--shadow-1) !important;
    backdrop-filter: blur(10px);
}

.navbar-brand {
    font-weight: var(--font-weight-bold) !important;
    color: var(--color-text) !important;
    transition: color var(--transition-fast);
}

.brand-balls {
    margin-right: var(--spacing-xs);
}

.brand-balls i {
    font-size: 0.8rem;
    margin-right: 2px;
}

.nav-link {
    color: var(--color-text) !important;
    font-weight: var(--font-weight-medium);
    transition: color var(--transition-fast);
}

.nav-link:hover {
    color: var(--primary-500) !important;
}

.dropdown-menu {
    background: var(--color-card);
    border: 1px solid rgba(255,255,255,.1);
    border-radius: var(--radius-sm);
    box-shadow: var(--shadow-2);
}

.dropdown-item {
    color: var(--color-text);
    font-weight: var(--font-weight-medium);
}

.dropdown-item:hover {
    background: var(--color-surface);
    color: var(--primary-500);
}

/* Progress Bar Enhancement */
.progress {
    background-color: rgba(255,255,255,.1);
    border-radius: var(--radius-sm);
    overflow: hidden;
}

.progress-bar {
    background: var(--gradient-hero);
    transition: width var(--transition-normal);
}

/* Enhanced Form Elements */
.form-control {
    border: 1px solid rgba(255,255,255,.1);
    border-radius: var(--radius-sm);
    background: var(--color-surface);
    color: var(--color-text);
    font-weight: var(--font-weight-medium);
}

.form-control:focus {
    border-color: var(--primary-500);
    box-shadow: var(--shadow-focus);
    background: var(--color-card);
}